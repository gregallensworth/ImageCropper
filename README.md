# ImageCropper

This jQuery plugin makes it copy-paste simple to add an image-cropping tool to your website.

http://gregallensworth.github.io/ImageCropper/

* Call *ImageCropper()* on your file-input element, like this:

```
$('input[type="file"][name="thumbimage"]').ImageCropper({
    width:800,
    height:600,
    thumbWidth:200,
    thumbHeight:150
})
```

* When a file is selected, the user will be walked through cropping the image. The UI is slim and minimal so it won't stomp on your other page content, but the CSS is documented so you can style it as you like.

* After cropping, the file-input element will be cleared so the file will not upload (optional, default) and a new hidden-input element will be created with the base64-encoded JPEG content. By default, this hidden-input will have the same name as the file-input did.

* Handling the base64-encoded image server-side, is up to you. See below for some ideas.

# Options And Callbacks

* **width**

Integer; defaults to **1024**.

The width of the cropping panel, and therefore of the final cropped image.

* **height**

Integer; defaults to **768**.

The height of the cropping panel, and therefore of the final cropped image.

* **thumbWidth**

Integer; defaults to 1/4 of width.

The width of the thumbnail, so the user can see their results (albeit downscaled).

* **thumbHeight**

Integer; defaults to 1/4 of height.

The height of the thumbnail, so the user can see their results (albeit downscaled).

* **fieldName**

Text; defaults to same as the name of the file input.

The **name** of the hidden-input field that will be created. Changing this to something else could make sense, if you want to keep both the original image as a file upload, and also the cropped version as base64 text.

* **clearFileInput**

Boolean; defaults to **true**

Clear the file-input when a crop is done? If true, this effectively disables the file upload from happening because the file input is cleared. This is typically convenient, on the assumption that you prefer the cropped base64 version. If you do want to keep the uploaded file as well as the base64-encoded string, set this to **false** and set **fieldName** as well.

* **onImageLoaded**

Function; defaults to nothing

An optional callback function after an image has been loaded into the cropper. Params are as follows:

```
onImageLoaded: function (rawimg, $cropcanvas, $fileinput)
```

* **onImageCropped**

Function; defaults to nothing

An optional callback function after an image has been cropped and finished. Params are as follows:

```
onImageCropped: function (rawimg, $hiddeninput, $fileinput)
```

# Credits and Origin

A lot of the "heavy lifting" workflow, was adapted from the following gist by "ezgoing" dated September 14 2014. http://cssdeck.com/labs/xnmcokhc

My own initial work in this adaptation was focused on:

* having the HTML generated by the ImageCropper() so as to reduce the HTML-pasting and CSS-fussing overhead
* internal documentation/ /comments and cleanup
* some event-binding fixes when running multiple instances of ImageCropper on one page
